---
$schema: "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json"
name: "SimpleScript"
env:
  IDENT: "[A-Za-z_]\\w*"
  DIGIT: "[0-9]+(?:.[0-9]+)?"
patterns:
  - include: "#comments"
  - include: "#keywords"
  - include: "#function"
  - include: "#ident"
  - include: "#strings"
  - include: "#digits"
repository:
  keywords:
    patterns:
      - name: "keyword.control"
        match: "\\b(break|cont|else|end|for|if|loop|match|ret|while)\\b"
      - name: "keyword.operator"
        match: "\\b(and|or)\\b"
      - name: "keyword.declaration"
        match: "\\b(let|error|bool|number|string|list|fn|class)\\b"
      - name: "support.function.builtin"
        match: "\\b(is|print|load)\\b"
      - name: "constant.language.null"
        match: "\\b(nil|undef)\\b"
      - name: "constant.language.boolean"
        match: "\\b(true|false)\\b"
  function:
    name: "support.function"
    begin: "${ IDENT }\\s*\\("
    end: "\\)"
  strings:
    patterns:
      - name: "string.quoted.double"
        begin: '"'
        end: '"'
      - name: "string.quoted.single"
        begin: "'"
        end: "'"
  digits:
    patterns:
      - name: "constant.numeric"
        match: "\\b(${ DIGIT })\\b"
  ident:
    patterns:
      - name: "variable.language"
        match: "\\b(self|super)\\b"
      - name: "variable.other.readwrite"
        match: "\\b(${ IDENT })\\b"
  comments:
    patterns:
      - name: "comment.line.pound"
        match: "#.*"
scopeName: "source.ss"
