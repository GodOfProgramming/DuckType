class Array {
  self as struct { value: nil }

  new(self, list) {
    self.value = list;
  }

  fn [](self, idx) {
    ret self.value[idx];
  }

  fn []=(self, idx, other) {
    ret self.value[idx] = other;
  }
}

let a = Array([1, 2, 3]);

println a[0];
a[0] = 777;
println a[0];
